"use strict";(self.webpackChunktwine_realtime_github_io=self.webpackChunktwine_realtime_github_io||[]).push([[110],{8412:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>a,contentTitle:()=>l,default:()=>h,frontMatter:()=>s,metadata:()=>c,toc:()=>o});var t=n(5893),r=n(1151);const s={},l="Twine Service Deployment",c={id:"deployment",title:"Twine Service Deployment",description:"Twine AWS Requirements",source:"@site/docs/1-deployment.md",sourceDirName:".",slug:"/deployment",permalink:"/docs/deployment",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:1,frontMatter:{},sidebar:"tutorialSidebar",next:{title:"Twine Client Library",permalink:"/docs/client-library"}},a={},o=[{value:"Create an AWS Account and IAM User",id:"create-an-aws-account-and-iam-user",level:2},{value:"Create an AWS CLI profile",id:"create-an-aws-cli-profile",level:2},{value:"Register a Route 53 Domain",id:"register-a-route-53-domain",level:2},{value:"Request a TLS Certificate",id:"request-a-tls-certificate",level:2},{value:"Deploy the Twine Architecture",id:"deploy-the-twine-architecture",level:2},{value:"Create a DNS Record",id:"create-a-dns-record",level:2}];function d(e){const i={a:"a",code:"code",h1:"h1",h2:"h2",img:"img",li:"li",ol:"ol",p:"p",ul:"ul",...(0,r.a)(),...e.components},{Details:s}=i;return s||function(e,i){throw new Error("Expected "+(i?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.h1,{id:"twine-service-deployment",children:"Twine Service Deployment"}),"\n",(0,t.jsxs)(s,{children:[(0,t.jsx)("summary",{children:"Twine AWS Requirements"}),(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"IAM User"}),"\n",(0,t.jsx)(i.li,{children:"Route 53"}),"\n",(0,t.jsx)(i.li,{children:"DynamoDB"}),"\n",(0,t.jsx)(i.li,{children:"Secrets Manager"}),"\n",(0,t.jsx)(i.li,{children:"Elastic Beanstalk"}),"\n",(0,t.jsx)(i.li,{children:"Certificate Manager"}),"\n",(0,t.jsx)(i.li,{children:"ElastiCache for Redis"}),"\n",(0,t.jsx)(i.li,{children:"Application Load Balancer"}),"\n"]})]}),"\n",(0,t.jsx)(i.p,{children:"The Twine architecture is extensive and requires broad permissions. For smooth deployment, we recommend creating a new AWS account and ensuring that Node.js v18.x or greater is installed in your local environment. Complete the steps below to deploy Twine."}),"\n",(0,t.jsx)(i.h2,{id:"create-an-aws-account-and-iam-user",children:"Create an AWS Account and IAM User"}),"\n",(0,t.jsxs)(s,{children:[(0,t.jsx)("summary",{children:"Step-by-step guide"}),(0,t.jsxs)(i.ol,{children:["\n",(0,t.jsx)(i.li,{children:(0,t.jsx)(i.a,{href:"https://portal.aws.amazon.com/billing/signup#/start/email",children:"Sign up for a new AWS Account"})}),"\n",(0,t.jsx)(i.li,{children:"Sign in to your new AWS Account"}),"\n",(0,t.jsx)(i.li,{children:"Click the second rightmost button in the top navbar"}),"\n",(0,t.jsx)(i.li,{children:"Select the region where you will deploy Twine"}),"\n",(0,t.jsx)(i.li,{children:"Type 'IAM' in the search bar at the top of the page"}),"\n",(0,t.jsx)(i.li,{children:"Click on the 'IAM' service"}),"\n",(0,t.jsx)(i.li,{children:"Click 'Users' in the sidebar"}),"\n",(0,t.jsx)(i.li,{children:"Click 'Create User'"}),"\n",(0,t.jsx)(i.li,{children:"Choose a user name and click 'Next'"}),"\n",(0,t.jsx)(i.li,{children:"Select 'Attach Policies Directly'"}),"\n",(0,t.jsx)(i.li,{children:"Type 'AdministratorAccess' in the 'Permissions Policies' searchbar"}),"\n",(0,t.jsx)(i.li,{children:"Select 'AdministratorAccess' and click 'Next'"}),"\n",(0,t.jsx)(i.li,{children:"Click 'Create User'"}),"\n",(0,t.jsx)(i.li,{children:"Click 'Users' in the sidebar and select the user you created"}),"\n",(0,t.jsx)(i.li,{children:"Click the 'Security Credentials' tab"}),"\n",(0,t.jsx)(i.li,{children:"Click 'Create Access Key'"}),"\n",(0,t.jsx)(i.li,{children:"Select 'Command Line Interface (CLI)'"}),"\n",(0,t.jsx)(i.li,{children:"Click 'Next' and then click 'Create Access Key'"}),"\n",(0,t.jsx)(i.li,{children:"Prepare to provide your access key and secret access key"}),"\n"]})]}),"\n",(0,t.jsx)(i.h2,{id:"create-an-aws-cli-profile",children:"Create an AWS CLI profile"}),"\n",(0,t.jsxs)(s,{children:[(0,t.jsx)("summary",{children:"Step-by-step guide"}),(0,t.jsxs)(i.ol,{children:["\n",(0,t.jsx)(i.li,{children:(0,t.jsx)(i.a,{href:"https://docs.aws.amazon.com/cli/latest/userguide/getting-started-install.html",children:"Install the AWS CLI"})}),"\n",(0,t.jsxs)(i.li,{children:["Execute ",(0,t.jsx)(i.code,{children:"aws configure --profile new-profile-name"})," in terminal"]}),"\n",(0,t.jsx)(i.li,{children:"Provide your access key and secret access key"}),"\n",(0,t.jsx)(i.li,{children:"Provide the region that you previously determined (must match)"}),"\n"]})]}),"\n",(0,t.jsx)(i.h2,{id:"register-a-route-53-domain",children:"Register a Route 53 Domain"}),"\n",(0,t.jsxs)(s,{children:[(0,t.jsx)("summary",{children:"Step-by-step guide"}),(0,t.jsxs)(i.ol,{children:["\n",(0,t.jsxs)(i.li,{children:["Enter the ",(0,t.jsx)(i.a,{href:"http://console.aws.amazon.com",children:"AWS Console"})," and search for 'Route 53'"]}),"\n",(0,t.jsx)(i.li,{children:"Click 'Dashboard' in the Route 53 page sidebar"}),"\n",(0,t.jsx)(i.li,{children:"Check the top right of the webpage and ensure you are in the previously determined region"}),"\n",(0,t.jsx)(i.li,{children:"Register a Route 53 domain (you will later use the domain name with the Twine client library)"}),"\n"]})]}),"\n",(0,t.jsx)(i.h2,{id:"request-a-tls-certificate",children:"Request a TLS Certificate"}),"\n",(0,t.jsxs)(s,{children:[(0,t.jsx)("summary",{children:"Step-by-step guide"}),(0,t.jsxs)(i.ol,{children:["\n",(0,t.jsx)(i.li,{children:"Search for 'Certificate Manager'"}),"\n",(0,t.jsx)(i.li,{children:"Click 'Request Certificate' in the Certificate Manager sidebar"}),"\n",(0,t.jsx)(i.li,{children:"'Request a Public Certificate' should be selected; click 'Next'"}),"\n",(0,t.jsx)(i.li,{children:"Enter your new domain name"}),"\n",(0,t.jsx)(i.li,{children:'Select "email validation" & follow instructions in the email'}),"\n",(0,t.jsx)(i.li,{children:"Select the 'RSA 2048' key algorithm"}),"\n",(0,t.jsx)(i.li,{children:"Click 'Request'"}),"\n",(0,t.jsx)(i.li,{children:"Validate the request"}),"\n"]})]}),"\n",(0,t.jsx)(i.h2,{id:"deploy-the-twine-architecture",children:"Deploy the Twine Architecture"}),"\n",(0,t.jsxs)(s,{children:[(0,t.jsx)("summary",{children:"Step-by-step guide"}),(0,t.jsxs)(i.ol,{children:["\n",(0,t.jsx)(i.li,{children:"Clone this repository"}),"\n",(0,t.jsx)(i.li,{children:"Open your terminal"}),"\n",(0,t.jsx)(i.li,{children:"Navigate to the repository directory"}),"\n",(0,t.jsxs)(i.li,{children:["Execute ",(0,t.jsx)(i.code,{children:"aws configure list"})]}),"\n",(0,t.jsxs)(i.li,{children:["If the 'Name' value is not your newly-created AWS CLI profile name, execute ",(0,t.jsx)(i.code,{children:"export AWS_PROFILE=new-profile-name"})," (this command is different for Windows users)"]}),"\n",(0,t.jsxs)(i.li,{children:["Execute ",(0,t.jsx)(i.code,{children:"aws configure list"})," again to confirm the change occurred"]}),"\n",(0,t.jsxs)(i.li,{children:["Execute ",(0,t.jsx)(i.code,{children:"npm install"})," to install the Twine deployment dependencies"]}),"\n",(0,t.jsxs)(i.li,{children:["Execute ",(0,t.jsx)(i.code,{children:"npm start"})," to launch the deployment process"]}),"\n",(0,t.jsxs)(i.li,{children:["Follow the instructions in your terminal\n",(0,t.jsx)(i.img,{alt:"alt text",src:n(1085).Z+"",width:"624",height:"272"})]}),"\n"]})]}),"\n",(0,t.jsx)(i.p,{children:"The creation process can be observed in the 'Stacks' section of the AWS Cloud Formation page. After the process is complete, the Twine server will be running in the Elastic Beanstalk environment. However, to satisfy browser requirements, Twine must use your newly-created domain name instead of the load balancer endpoint."}),"\n",(0,t.jsx)(i.h2,{id:"create-a-dns-record",children:"Create a DNS Record"}),"\n",(0,t.jsxs)(s,{children:[(0,t.jsx)("summary",{children:"Step-by-step guide"}),(0,t.jsxs)(i.ol,{children:["\n",(0,t.jsxs)(i.li,{children:["Enter the ",(0,t.jsx)(i.a,{href:"http://console.aws.amazon.com",children:"AWS Console"})," and search for 'Route 53'"]}),"\n",(0,t.jsx)(i.li,{children:"Click 'Hosted Zones' in the AWS Route 53 sidebar"}),"\n",(0,t.jsx)(i.li,{children:"Click on the listed domain name"}),"\n",(0,t.jsx)(i.li,{children:"Click 'Create Record'"}),"\n",(0,t.jsx)(i.li,{children:"Ensure the Record Type is 'A' then click 'Alias'"}),"\n",(0,t.jsx)(i.li,{children:"Set the 'Endpoint' to 'Alias to Application and Classic Load Balancer'"}),"\n",(0,t.jsx)(i.li,{children:"Select the region name that you previously determined"}),"\n",(0,t.jsx)(i.li,{children:"Select the single option for 'Choose Load Balancer'"}),"\n",(0,t.jsx)(i.li,{children:"Click 'Create Records'"}),"\n"]})]}),"\n",(0,t.jsx)(i.p,{children:"Record creation will take a few minutes. The Twine architecture will then be complete and ready for the Twine server/client library implementation. Please note that Twine issues third-party cookies for sticky sessions and to store WebSocket session data for connection state recovery. Your Twine API key (required to publish to the Twine API) is available on your newly-created AWS Secrets Manager page."})]})}function h(e={}){const{wrapper:i}={...(0,r.a)(),...e.components};return i?(0,t.jsx)(i,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},1085:(e,i,n)=>{n.d(i,{Z:()=>t});const t=n.p+"assets/images/deploy-1c0abecf2784d1846a68b3945f8ad522.png"},1151:(e,i,n)=>{n.d(i,{Z:()=>c,a:()=>l});var t=n(7294);const r={},s=t.createContext(r);function l(e){const i=t.useContext(s);return t.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function c(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),t.createElement(s.Provider,{value:i},e.children)}}}]);