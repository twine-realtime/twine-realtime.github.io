"use strict";(self.webpackChunkarbiter_wrtc_github_io=self.webpackChunkarbiter_wrtc_github_io||[]).push([[125],{6562:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>t,metadata:()=>o,toc:()=>c});var i=r(5893),s=r(1151);const t={},a="Twine Server Library",o={id:"server-library",title:"Twine Server Library",description:"This library enables users to publish messages to their Twine Realtime service.",source:"@site/docs/3-server-library.md",sourceDirName:".",slug:"/server-library",permalink:"/docs/server-library",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:3,frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Twine Client Library",permalink:"/docs/client-library"}},l={},c=[{value:"Installation",id:"installation",level:2},{value:"Initialization",id:"initialization",level:2},{value:"Usage",id:"usage",level:2},{value:"publish",id:"publish",level:3}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",p:"p",pre:"pre",...(0,s.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{id:"twine-server-library",children:"Twine Server Library"}),"\n",(0,i.jsx)(n.p,{children:"This library enables users to publish messages to their Twine Realtime service."}),"\n",(0,i.jsx)(n.h2,{id:"installation",children:"Installation"}),"\n",(0,i.jsx)(n.p,{children:"Copy this code into your JavaScript code as an ES module package:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"import TwineServerLibrary from 'https://cdn.jsdelivr.net/npm/twine-server-library@1.0/+esm';\n"})}),"\n",(0,i.jsx)(n.h2,{id:"initialization",children:"Initialization"}),"\n",(0,i.jsxs)(n.p,{children:["To configure the client, use the ",(0,i.jsx)(n.code,{children:"Twine"})," constructor, it requires a Twine ",(0,i.jsx)(n.code,{children:"host"})," and ",(0,i.jsx)(n.code,{children:"apiKey"})," created at deployment:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"const host = 'https://your-twine-domain.com';\nconst twineServerLibrary = new TwineServerLibrary(host, apiKey);\n"})}),"\n",(0,i.jsx)(n.p,{children:"Once the constructor has been invoked, messages may be published to the twine server."}),"\n",(0,i.jsx)(n.h2,{id:"usage",children:"Usage"}),"\n",(0,i.jsx)(n.h3,{id:"publish",children:"publish"}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"publish"})," method takes a ",(0,i.jsx)(n.code,{children:"room"})," (string) and a JavaScript object that serves as the messages payload. When invoked the messages will be sent to the twine server and the message published to all subscribers of the ",(0,i.jsx)(n.code,{children:"room"}),"."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"twineServerLibrary.publish(room, callback); \n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"sendBtn.addEventListener('click', (e) => {\n\te.preventDefault();\n\tconst message = input.value;\n\ttwineServerLibrary.publish(room, { \n\t\tmessage: \"Goodmoring, friend!\"\n\t}); \n})\n"})})]})}function h(e={}){const{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},1151:(e,n,r)=>{r.d(n,{Z:()=>o,a:()=>a});var i=r(7294);const s={},t=i.createContext(s);function a(e){const n=i.useContext(t);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),i.createElement(t.Provider,{value:n},e.children)}}}]);